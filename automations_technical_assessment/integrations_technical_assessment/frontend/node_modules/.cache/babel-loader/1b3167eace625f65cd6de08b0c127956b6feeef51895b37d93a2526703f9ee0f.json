{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dell\\\\Desktop\\\\mohit\\\\assessment\\\\test\\\\automations_technical_assessment\\\\integrations_technical_assessment\\\\frontend\\\\src\\\\integrations\\\\hubspot.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const HubspotIntegration = ({\n  user,\n  org,\n  integrationParams,\n  setIntegrationParams\n}) => {\n  _s();\n  const authorizeHubspot = async () => {\n    try {\n      const response = await axios.get(`/authorize_hubspot?user_id=${user}&org_id=${org}`);\n      window.location.href = response.data.authorization_url;\n    } catch (error) {\n      console.error('Error authorizing HubSpot:', error);\n    }\n  };\n  useEffect(() => {\n    const urlParams = new URLSearchParams(window.location.search);\n    const code = urlParams.get('code');\n    if (code) {\n      const fetchCredentials = async () => {\n        try {\n          const response = await axios.get(`/oauth2callback_hubspot?code=${code}&user_id=${user}&org_id=${org}`);\n          setIntegrationParams({\n            type: 'HubSpot',\n            credentials: response.data.credentials\n          });\n        } catch (error) {\n          console.error('Error fetching HubSpot credentials:', error);\n        }\n      };\n      fetchCredentials();\n    }\n  }, [user, org, setIntegrationParams]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: authorizeHubspot,\n      children: \"Connect to HubSpot\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 9\n  }, this);\n};\n_s(HubspotIntegration, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = HubspotIntegration;\nvar _c;\n$RefreshReg$(_c, \"HubspotIntegration\");","map":{"version":3,"names":["React","useEffect","axios","jsxDEV","_jsxDEV","HubspotIntegration","user","org","integrationParams","setIntegrationParams","_s","authorizeHubspot","response","get","window","location","href","data","authorization_url","error","console","urlParams","URLSearchParams","search","code","fetchCredentials","type","credentials","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Dell/Desktop/mohit/assessment/test/automations_technical_assessment/integrations_technical_assessment/frontend/src/integrations/hubspot.js"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nexport const HubspotIntegration = ({ user, org, integrationParams, setIntegrationParams }) => {\r\n    const authorizeHubspot = async () => {\r\n        try {\r\n            const response = await axios.get(`/authorize_hubspot?user_id=${user}&org_id=${org}`);\r\n            window.location.href = response.data.authorization_url;\r\n        } catch (error) {\r\n            console.error('Error authorizing HubSpot:', error);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        const urlParams = new URLSearchParams(window.location.search);\r\n        const code = urlParams.get('code');\r\n        if (code) {\r\n            const fetchCredentials = async () => {\r\n                try {\r\n                    const response = await axios.get(`/oauth2callback_hubspot?code=${code}&user_id=${user}&org_id=${org}`);\r\n                    setIntegrationParams({\r\n                        type: 'HubSpot',\r\n                        credentials: response.data.credentials,\r\n                    });\r\n                } catch (error) {\r\n                    console.error('Error fetching HubSpot credentials:', error);\r\n                }\r\n            };\r\n            fetchCredentials();\r\n        }\r\n    }, [user, org, setIntegrationParams]);\r\n\r\n    return (\r\n        <div>\r\n            <button onClick={authorizeHubspot}>Connect to HubSpot</button>\r\n        </div>\r\n    );\r\n};"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,OAAO,MAAMC,kBAAkB,GAAGA,CAAC;EAAEC,IAAI;EAAEC,GAAG;EAAEC,iBAAiB;EAAEC;AAAqB,CAAC,KAAK;EAAAC,EAAA;EAC1F,MAAMC,gBAAgB,GAAG,MAAAA,CAAA,KAAY;IACjC,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMV,KAAK,CAACW,GAAG,CAAE,8BAA6BP,IAAK,WAAUC,GAAI,EAAC,CAAC;MACpFO,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAGJ,QAAQ,CAACK,IAAI,CAACC,iBAAiB;IAC1D,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;IACtD;EACJ,CAAC;EAEDlB,SAAS,CAAC,MAAM;IACZ,MAAMoB,SAAS,GAAG,IAAIC,eAAe,CAACR,MAAM,CAACC,QAAQ,CAACQ,MAAM,CAAC;IAC7D,MAAMC,IAAI,GAAGH,SAAS,CAACR,GAAG,CAAC,MAAM,CAAC;IAClC,IAAIW,IAAI,EAAE;MACN,MAAMC,gBAAgB,GAAG,MAAAA,CAAA,KAAY;QACjC,IAAI;UACA,MAAMb,QAAQ,GAAG,MAAMV,KAAK,CAACW,GAAG,CAAE,gCAA+BW,IAAK,YAAWlB,IAAK,WAAUC,GAAI,EAAC,CAAC;UACtGE,oBAAoB,CAAC;YACjBiB,IAAI,EAAE,SAAS;YACfC,WAAW,EAAEf,QAAQ,CAACK,IAAI,CAACU;UAC/B,CAAC,CAAC;QACN,CAAC,CAAC,OAAOR,KAAK,EAAE;UACZC,OAAO,CAACD,KAAK,CAAC,qCAAqC,EAAEA,KAAK,CAAC;QAC/D;MACJ,CAAC;MACDM,gBAAgB,CAAC,CAAC;IACtB;EACJ,CAAC,EAAE,CAACnB,IAAI,EAAEC,GAAG,EAAEE,oBAAoB,CAAC,CAAC;EAErC,oBACIL,OAAA;IAAAwB,QAAA,eACIxB,OAAA;MAAQyB,OAAO,EAAElB,gBAAiB;MAAAiB,QAAA,EAAC;IAAkB;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC7D,CAAC;AAEd,CAAC;AAACvB,EAAA,CAlCWL,kBAAkB;AAAA6B,EAAA,GAAlB7B,kBAAkB;AAAA,IAAA6B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}